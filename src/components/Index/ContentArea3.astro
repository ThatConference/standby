---
import { getEntryBySlug } from "astro:content";
import { Image } from "astro:assets";

const ContentData = await getEntryBySlug("IndexPage", "content-3");
const { title, content } = ContentData?.data;
const { Content } = await ContentData?.render();
---

<section class="section-faq">
  <div class="section-space-bottom">
    <div class="container-default">
      <div
        class="grid items-center gap-y-10 lg:grid-cols-[1fr_minmax(0,_0.8fr)] lg:gap-x-20 xl:gap-x-24 xxl:gap-x-32"
      >
        <div class="jos" data-jos_animation="fade-right">
          <div>
            <div class="mb-5">
              <h2
                class="font-Kanit text-4xl font-medium leading-none -tracking-[1px] lg:text-5xl xl:text-7xl xxl:text-[80px]"
              >
                {title}
              </h2>
            </div>
          </div>
          <Content />
        </div>
        <div
          class="jos relative z-10 flex justify-center"
          data-jos_animation="fade-left"
        >
          <ul class="grid gap-6 rounded-[10px]">
            {
              content?.map(({ Q, A, icon }: any, index: number) => (
                <li
                  class={`accordion-item ${index === 0 ? "active" : ""} overflow-hidden rounded-[10px] border border-ColorMidnightMoss p-5`}
                >
                  <div class="accordion-header relative pr-8 font-Kanit text-[28px] font-medium leading-[1.28] -tracking-[0.5px] text-ColorMidnightMoss">
                    <button class="flex flex-1 gap-x-6 text-left">
                      <span class="inline-block h-10 w-auto">
                        <Image
                          src={icon}
                          alt="icon-green-black-duotone-faq"
                          width="41"
                          height="40"
                        />
                      </span>
                      <span class="flex-1"> {Q} </span>
                    </button>
                    <span class="accordion-icon-4 absolute right-0 top-0 text-xl">
                      <i class="fa-solid fa-chevron-down" />
                    </span>
                  </div>
                  <div class="accordion-body ml-16 text-xl leading-[1.6] -tracking-[0.5px] text-ColorMidnightMoss">
                    <p class="pt-5">{A}</p>
                  </div>
                </li>
              ))
            }
          </ul>
        </div>
      </div>
    </div>
  </div>
</section>
